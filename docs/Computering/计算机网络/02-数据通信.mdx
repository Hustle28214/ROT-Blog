import WordCount from '../../../src/components/WordCount/WordCount';

<WordCount>

## 2.1 数据通信
通信的目的就是传递信息。

通信中产生和发送信息的一端叫信源，接收信息的一端叫信宿，信源和信宿之间的通信线路称为**信道**。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/1c4031350c0074fa6794a7784e148f20.png#pic_center)
模拟传输的缺点是，模拟信号在传输过程中会衰减，还会受到噪声的干扰。若用放大器将信号放大，同时会放大噪声。
## 2.2 信道特性

### 信道带宽

 带宽：在模拟信号系统又叫频宽，是指在固定的时间可传输的资料数量，亦即在传输管道中可以传递数据的能力。通常以每秒传送周期或赫兹(Hz)来表示。

**信道带宽公式**

$W=f2-f1$

$f1$是信道能通过的最低频率，$f2$是信道能通过的最高频率。


数字信道：数字信道是离散信道，带宽为信道能够达到的最大数据传输速率，单位是bit/s。

### 码元和码元速率

码元：一个数字脉冲称为一个码元（可理解为时钟周期的信号）。

码元速率：单位时间内信道传送的码元个数。如果码元宽度（脉冲周期）为T，则码元速率（波特率）为B=1/T，单位是波特 Baud。

码元携带的信息量由码元取的离散值的个数决定。若码元取两个离散值，则一个码元携带一位信息，取4则2位。一个码元携带信息量n位与码元种类数(N)的关系$n=log_2 N$。

**奈奎斯特定理**：最大码元速率为$B=2W$。

**极限数据速率**：$R=Blog_2N=2Wlog_2N$（非常重要）


码元速率=每秒发送包裹个数
数据速率=每秒发送包裹重量

**香农(Shannon)定理**：

在一个噪声信道的极限速率和带宽之间的关系。

S为信号平均功率，N为噪声评价功率，S/N为信噪比。

极限速率公式：
$C=Wlog_2(1+S/N)$

分贝和信噪比关系：
$dB=10lg S/N$

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/4c2834ad150138b79a58834455ecb1c9.png#pic_center)
码元种类数是由调制技术决定的。

QPSK:N=4
DPSK:N=2
2PSK:N=2
4PSK:N=4
16FSK:N=16

## 2.3 信道延迟

信号在信道中传播的时间，跟源端和宿端的距离有关，也与具体信道中的信号传播速度有关。主要考虑电信号。

**总延时**=线路延迟+发送延迟

线路延迟=传输距离/传输速度

发送延迟=数据帧大小/速率

光速：$300m/\mu s$

电缆中传播速度一般为光速67%，即$200m/\mu s$.

卫星信道的时延大约为270ms，来回双向延迟540ms。

## 2.4 传输介质

两个终端，用一条能承载数据传输的传输介质连接起来，就组成了最简单的网络。

有线传输介质：主要有同轴电缆，双绞线和光纤。

无线传输介质：无线电波、微波、红外线和激光。

无线电波：500kHz-1000MHz，是能量最小，波长最高，频率最低的电磁波。用于广播电视和无线通信。

微波：300MHz-300GHz，是一种波长较低，频率较高的电磁波，特点是高频高能量，用于雷达、飞机导航。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/5279a101482652bf501371f7d1c7970b.png#pic_center)

### 双绞线

由多对绝缘铜导线两两缠绕而成。

缠绕目的：降低信号干扰的程度。

100M数据传输：4根2对（1236）

1000M数据传输：8根

网口：RJ45水晶头

电话口：RJ11水晶头

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/f0a72555de87e038bfdbbf8dc3710876.png#pic_center)

**非屏蔽双绞线（UTP）**：


绝缘套管中无屏蔽层。价格低廉，用途广泛，适用于企业和教育。

**屏蔽双绞线（STP）**：

绝缘套管中，外层由铝箔包裹，以减小辐射和干扰。价格相对较高，适用于航天、军工、医疗等场景。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/829a83b72c01b62e4e02b55b3194cd7b.png#pic_center)

### 光纤

利用光在玻璃或塑料纤维中的全反射原理而达成的光传导工具。

光在光纤中的传导损耗很低，适合用作长距离的数据传输。

光纤重量轻，体积小，传输远，容量大，抗电磁干扰。


### 光缆
光缆一般由多根光纤和塑料保护套管及塑料外皮构成。
通常看到工人敷设的黑色线缆叫做光缆，里面包含了多组光纤。

光纤信道中的光源可以是发光二极管或注入式激光二极管，电流通过时，两种器件都能发出光脉冲，光脉冲通过光导纤维传播到达接收端。接收端有一个光检测器——光电二极管，遇光产生电信号，形成一个单向的光传输系统，类似于单向传输模拟信号的宽带系统。如果采用另外的互连方式，把所有的通信节点通过光缆连接成一个环，环上信号虽然是单向传播，但任一节点发出的信息其他节点都能收到，从而也达到了了互相通信的目的。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/4a8daffb014ee4187a0ece9d10bc7fc8.png#pic_center)

**单模光纤**：

当光纤的集合尺寸可以与光波长相比拟时，即纤芯的几何尺寸与光信号波长相差不大时，一般为5-10μm。

光纤只允许一种模式在其中传播，单模光纤具有极宽带宽，特别适用于大容量、长距离的光纤通信。但单模光纤由于制造工艺差异，比多模光纤贵。

**多模光纤**:

多模光纤纤芯的几何尺寸远大于光波波长，一般为50μm、62.5μm，允许多种模式光信号传播。

多模光纤仅用于较小容量、短距离的光纤传输通信。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/a3a84aa2e61d505079d2cddc64edd846.png#pic_center)

### 跳线和尾纤

双绞线跳线：带水晶头的网线。
光纤跳线：带有连接器和保护层的光纤。
尾纤：只有一头有光纤接口。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/b241a266da094c393cb2fc0e5ede4e64.png#pic_center)

## 2.5 数据编码

### 曼彻斯特编码
曼彻斯特编码是一种双相码，在每个比特中间均有一个跳变，第一个编码自定义。
假如规定由高电平向低电平跳变代表"0"，那么由低电平向高电平跳变代表"1"。

这种编码常用于以太网中。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/14630674b190e0a385edc1d62462b54e.png#pic_center)

### 差分曼彻斯特编码

差分曼彻斯特编码也是一种双相码，用在令牌环网中。

有跳变代表"0"，没有则代表"1"。

不是比较形状，而是比较起始电平（上一个的终止和下一个的起点）。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/ccdeb582f01f9173c9ff10b4e52a8261.png#pic_center)
### 两种曼彻斯特编码的特点

双相码要求必须翻转，一高一低。

它们都具有自定时和检测错误的功能。

两种曼彻斯特编码的优点：将时钟和数据包包含在信号数据流中，也称为同步码。

缺点：编码效率均为50%。

两种曼码数据速率都是码元速率的一半，当数据传输速率为100Mbps时，码元速率为200Mbps。

### 其他编码

4B/5B：发送数据流每4bits，先转换为5bit，再转换为不归零码(NRZ-I)，多1位用于解决同步问题。

![编码效率差异](https://i-blog.csdnimg.cn/blog_migrate/a0dd46e8de06cf05fc3d30142faf1afe.png#pic_center)

## 2.6 数字调制技术
数字数据不仅可以用脉冲传输，也可以用模拟信号传输。
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/8d2ceeea3a38a21157c1bf7456c1da29.png#pic_center)


ASK(幅度键控)：用载波的两个不同振幅表示0和1。

FSK(频移键控)：用载波的两个不同频率表示0和1。


PSK(相移键控)：用载波的起始相位的变化表示0和1。

QAM(正交幅度调制)：把两个幅度相同但相位差90°的模拟信号合成一个模拟信号。

码元只取两个相位值叫做2相调制，码元可取4个相位叫4相调制。

DPSK是2相调制，N=2，QPSK是4相调制，N=4.


5G无线通信采用的载波调制技术是F-OFDM。华为5G空口新技术有F-OFDM和SCMA，F-OFDM是基于OFDM的改进版本，可以实现空口物理层分片，兼容LTE 4G。

## 2.7 脉码调制PCM

用编码解码器把模拟数据变换为数字信号的过程叫做模拟数据的数字化，常用的数字化技术就是脉冲编码调制技术(Pulse Code Modulation，PCM)，简称脉码调制。

PCM数字化过程包含3个步骤：采样、量化和编码。

采样：按照一定的时间间隔对模拟信号进行取样，把模拟信号的当前值作为样本。

奈奎斯特采样定理：如果模拟信号的最高频率为fmax，若以大于等于2fmax的采样频率对其进行采样，则采样得到的离散信号序列就能完整地恢复出原始信号。

量化：把取样后得到的样本由连续值转换为离散值，离散值的个数决定了量化的精度。

编码：把量化后的样本值变成相应的二进制代码。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/2bb90fbbc759165489350d71d348ec1c.png#pic_center)

如图所示，用0000-1111共16个级别代表0.1-1.6这16个不同的电平幅度。

重点理解：

对**声音信号**数字化时，由于语音最高频率是4kHz，取样频率是8kHz。对语音样本用128个等级量化，因而每个样本用7bit表示。在数字信道上传输这种数字化后的语音信号的速率是7*8000=56Kbps。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/51ad78518e7cdda7c09188793c71f231.png#pic_center)

## 2.8 通信和交换方式

### 数据通信方式

按通信方向分：

**单工通信**：信息只能在一个方向传送，发送方不能接收，接收方不能发送（电视/广播）。

**半双工通信**：通信双方可以交替发送和接收信息，但不能同时接收或发送（对讲机/Wi-Fi/Hub）。

**全双工通信**：通信双方可同时进行双向的信息传送（电话/交换机）。


按同步方式分：

两种传输方式：异步传输和同步传输。

**异步传输**：把各个字符分开传输，在字符之间插入同步信息，典型的是插入起始位和停止位。HDLC是典型的异步传输，HDLC帧格式如图所示，起始标志位和结束标志位都是"01111110”。异步传输的特点是实现简单，但引入了起止位，会影响传输效率（引入20%-30%的开销），导致速率不会太高。

加入校验位的目的是检查传输过程中的错误，一般使用奇偶校验。
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/0d61d7dd2835948bec21bdbde04a7a5c.png#pic_center)

**同步传输**：发送方在传送数据之前，先发送一串同步字符SYNC，接收方检测到2个以上SYNC字符就确认已经进入同步状态，开始准备接收数据。同步传输效率更高，在短距离高速数据传输中，大多采用同步传输方式。

### 交换方式

数据交换技术有3种：电路交换、报文交换和分组交换。

**电路交换**：把发送方和接收方用一系列链路直接连通。数据传输分为电路建立、数据传输和电路拆除3个过程，在数据传送2之前需要建立一条物理通路，在线路被释放之前，该通路将一直被用户完全占有。（早期的电话，需要很多交换局）

早期的电路交换机采用空分交换技术，这种交换技术通过控制$n\times n$的通断开关的开关实现交换。后来，被更先进的时分交换技术取代。TDM总线交换中，每个站点都通过全双工线路和交换机相连，当交换机中的某个控制开关接通时，该线路获得一个时槽，线路上的数据被输出到总线上。另一端同理。


![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/c6e21c7c62eb566cbb2759d47e4c2dfb.png#pic_center)
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/c7da2f2e01978c749a76f714f45eaf6c.png#pic_center)


**报文交换**：报文从发送方传送到接收方采用存储转发的方式。报文中含有每一个下一跳节点，完整的报文在一个个节点间传送（数据不拆分），根据网络中的“交通情况”在适当的时候转发到下一个节点。这样的网络也叫存储-转发网络。这种交换方式线路共享，利用率较高。（早期的电报）

**分组交换**：将数据拆分成很小的分组进行传送，包括：数据报和虚电路。

数据报：每个分组被独立地处理，每个节点根据路由选择算法，被独立送到目的，路径和到达目的顺序都可能不一样。发送端和接收端各有一个设备对收到的分组拆去头、尾并重排顺序，这种设备叫做分组拆装设备（Packet Assembly and Disassembly,PAD）。它适合单向地传送短消息。（IP、TCP）

虚电路：在数据传送之前，先建立一条逻辑上的连接，每个分组都沿着一条路径传输，不会乱序。与电路交换不同，建立逻辑连接时仍然可以链路共享。它的成本比数据报方式高，适合交互式通信。（X.25、帧中继、ATM）

（互联网Internet）

## 2.9 数字传输系统E1T1

### 多路复用技术

多路复用技术是把多个低速的信道组合成一个高速的信道的技术，使用两个设备：多路复用器（Multiplexer）和多路分配器（Demultiplexer），两者统称多路器，简称MUX。


![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/0201e2016dc846a7bbadddf2b847becb.png#pic_center)
### 频分复用（FDM）

在一条传输介质上使用多个频率不同的模拟载波信号进行多路传输，这些载波可进行任何方式的调制，比如ASK/PSK/FSK及其组合。

应用：无线电广播、ADSL、FDD-LTE、CATV


### 时分复用（TDM）

时分复用要求各个子通道按时间片轮流地占用整个带宽，时间片的大小可以按一次传送一位、一个字节或一个固定大小的数据块所需的时间来确定。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/99734e1e58929cbcc13ef6ff5924fbb0.png#pic_center)
统计时分制改进了原来信道资源浪费的问题。在发送端，集中器依次循环扫描各个子通道，若某个子通道有信息要发送则为它分配一个时槽，若无即跳过。这样需要在每个时槽加入一个控制字段，以便接收端确定该时槽属于哪个子通道。

应用：T1/E1、SONET/SDH、WIFI、TDD-LTE。
### 波分复用（WDM）

波分复用使用在光纤通信中，不同子信道用不同波长的光波承载，多路复用信道同时传送所有子信道的波长。其本质也是频分复用。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/90277b7b51e084c448e2d1d0381ae1d9.png#pic_center)
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/7617d8b92613846f16b7b0a817dd7d7a.png#pic_center)



### E1&T1


在日本和美国，使用很广的一种通信标准是贝尔系统的T1载波（一次群）。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/36efadb7a1b430d59f88a5f894fc7627.png#pic_center)


T1工作原理：

1. 用一个编码解码器轮流对24路话音信道取样、量化和编码。
2. 将一个取样周期中（125μs）得到的7为一组的数字合成一串，共$7\times 24$位长。
3. 在每一个7位组后方插入一个信令位。即$8\times 24$位长。
4. 最后加入一个帧同步位，帧长193位。
5. 得出：$T1=64K*24+开销和间隔=1.544M$（总的比特率）


![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/d9dc19636fd1b21ba591756cda00c540.png#pic_center)
欧洲采用E1标准，其有30个信道用于话音传信，2个子信道（CH0和CH16）用于传送控制信令，总的数据速率为$64*30+64K*2=2.048Mbps$。

### 同步数字系列

美国标准同步光纤网络（SONET），ITU-T据此定出同步数字系列（SDH）。SDH的基本速率为155.52Mbps，称为第1级同步传递模块(STM-1)。此速率相当于SONET的OC-3速率。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/0d3e5b76a978742c4e28a47758f8f944.png#pic_center)

## 2.10 差错控制

数据传输中出现错误不可避免，因此需要采用差错控制方法。

数据通信中，常用的方法就是检错和纠错。

检错：接收方知道有差错发生，但不知道是怎样的差错，向发送方请求重传。

纠错：接收方知道有差错发生，而且知道是怎样的差错。（需要更好的设备）

差错控制原理：传输k位，加入r位冗余（某种算法定义），接收方收到进行计算比较。

### 奇偶校验

奇偶校验是最常用的检错方法，能检出一位错位。

原理：在7位ASCII码后增加一位，使码字中1的个数成奇数（奇校验）或偶数（偶校验）。


奇校验：整个校验码（有效信息位和校验位）中“1”的个数为奇数1011010【1】

偶校验：整个校验码（有效信息位和校验位）中“1”的个数为偶数1011010【0】


### 海明码

海明（Hamming）码是通冗余数据位（在数据代码上添加若干冗余位组成码字）来检错和纠错的编码方式。它用码位的增加来换取正确率的提高。

海明距离（码距）：一个码字要变成另一个码字时，必须改变的最小位数。两个码字之间不同的比特数。


海明码原理：在数据中间加入几个校验码，码距均匀拉大，当某一位出错，会引起几个校验位的值发生变化。

**海明不等式（重点）**：校验码个数为k，可以表示$2^k$个信息，1个信息用来表示“没有错误”，其余$2^k-1$个表示数据中存在错误，如果满足$2^k-1≥m+k$（m为信息位，m+k为编码后的数总长度），则在理论上k个校验码就可以判断是哪一位出了问题。

#### 海明码编码

第$2^i$（i=0,1,2,3...）位是校验位，其余位存放数据。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/fdeeca70d93b79252fc6616c4f337ca5.png#pic_center)


假设传送信息1001011，把数据放在3，5，6，7，9，10，11位置，1，2，4，8留作校验位。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/ee6d2ebf0d78b8a0748fbf37829631a1.png#pic_center)

校验位与数据位的关系：

$3=2+1 5=4+1 6=4+2 7=4+2+1 9=8+1 10=8+2 11=8+2+1$

则3，5，6，7，9，11号位参加第1位校验，若按偶校验计算，1号位应为1。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/a695d8a5ce6df594c9b0b7feb3facbd0.png#pic_center)
类似3，6，7，9，10，11号位参加2号校验，5，6，7号位参加4位校验，9，10，11号位参加8位校验，全部按偶校验计算，最终得到：

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/84fb2d8faa80b65ff2ed29621a007ed5.png#pic_center)
如果这个码字传输中6号位出错，即变成：

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/a18c0753ca97307b7585f9618fa9254f.png#pic_center)
当接收端按照同样规则计算出奇偶位时，发现1和8号位的奇偶性正确。

1，2和4号位的奇偶性不对，于是2+4=6，确认错在6号位。


- ACK1=3,5,7,9,11
- ACK2=3,6,7,10,11
- ACK4=5,6,7
- ACK8=9,10,11

### CRC循环冗余校验码

CRC循环冗余校验码（Cylic Redundancy，CRC）只能检错而不能纠错，常见于网络通信和磁盘存储。循环码是指，一组代码其中任一有效码字经过循环移位后仍然是有效码字，不论是右移或左移，也不论移多少位。

CRC可以由移位寄存器实现，移位寄存器由k位组成，还有几个异或门和一条反馈回路。按CCITT-CRC标准可生成16位的校验和。寄存器初始化为0，从右向左逐位输入数据。当一位从最左边移出寄存器时，就通过反馈回路进入异或门和后续进来的位以及左移的位进行异或运算。当所有m位数据从右边输入完后再输入k个0。最后，当这一过程结束时，移位寄存器中就形成了校验和。

k位的校验和跟在数据位后边发送，接收端可以按同样的过程计算校验和并比较。

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/0a42d6012944cb80bb709c9ed1b06a3d.png#pic_center)

CRC计算校验和方法可以用一种多项式除法分析。m个数据位可以看作m-1阶多项式的系数。

例如信息码字00101011，可以组成多项式$x^5+x^3+x+1$。

反馈回路可表示成一个生成多项式$x^16+x^12+x^5+1$。提取其项数（看不到的项的系数为0），这样就是10001000000100001。取有效位开始异或运算，示例如下：

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/8c38a3296f6100654d15f87bcf899348.png#pic_center)
得到校验码9509H。

几种CRC生成多项式的国际标准：

- CRC-CCITT：$G(x)=x^16+x^12+x^5+1$
- CRC-16：$G(x)=x^16+x^15+x^2+1$
- CRC-12：$G(x)=x^12+x^11+x^3+x^2+x+1$
- CRC-32：$G(x)=x^32+x^26+x^23+x^16+x^12+x^11+x^10+x^8+x^7+x^5+x^4+x^2+x+1$
</WordCount>