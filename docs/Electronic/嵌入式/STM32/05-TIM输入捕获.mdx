
import WordCount from '../../../../src/components/WordCount/WordCount.jsx';
import Mermaid from '@theme/Mermaid';

<WordCount>

## 1. 输入捕获简介

输入捕获（IC, Input Capture）。

输入捕获模式下，当通道**输入引脚出现指定电平的跳变时，当前CNT的值将被锁存到CCR中**，可用于测量PWM波形的频率、占空比、脉冲间隔、电平持续时间等参数。

每个高级定时器和通用定时器都拥有4个输入捕获通道。

可配置为PWMI模式，此时可以同时测量频率和占空比。

可配置为主从触发模式，实现硬件全自动测量。

对于同一个定时器，只能同时存在输入捕获/输出比较其中一种模式。

![Image](https://github.com/user-attachments/assets/fe702d96-8683-4082-8a11-b83f1efe9e92)

将PWMI和主从触发模式相结合，测量频率占空比就是硬件全自动执行的流程了。需要测量时，即直接读取CCR的值。

## 2. 频率测量

对于STM32测量频率而言，它只能是测量数字信号。

![Image](https://github.com/user-attachments/assets/5506f025-6bc5-4dac-b476-24891fa26416)

如果你需要测量正弦波，还需要搭建一个信号预处理电路，比如用运放搭一个比较器，把正弦波转化为数字信号。



</WordCount>