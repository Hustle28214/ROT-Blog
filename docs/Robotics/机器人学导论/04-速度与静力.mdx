import WordCount from '../../../src/components/WordCount/WordCount';

<WordCount>

本章将要介绍大名鼎鼎的雅可比矩阵，广义上雅可比矩阵（也称作Jacobi矩阵，英语：Jacobian matrix）是函数的一阶偏导数以一定方式排列成的矩阵。 

在这里，它是能够联系机械臂两点之间微分运动/速度的特殊的矩阵，可以理解为它能够表示这两点的结构特性。

我们将通过一些推导，来研究如何得出并使用雅可比矩阵。

## 5.1 时变位姿的符号表示

我们将要面临很多时变问题，很容易想到，我们必须借助微分工具。

### 位置矢量的微分

用下面符号表示某个矢量的微分：


$$
v_Q = \frac{d}{dt} Q = \lim_{\Delta t \to 0} \frac{Q(t + \Delta t) - Q(t)}{\Delta t} \tag{5-1}
$$

:::danger
必须说明一个矢量是相对于哪个坐标系来微分。
:::

速度矢量能在任意坐标系中描述，其参考坐标系可以用左上标注。因此，如果在坐标系\{A\}中表示式（5-1）的速度矢量，可以写为

$$
\mathbf{v}(B) = \frac{\mathbf{a}_A}{\mathbf{a}_B} \mathbf{Q} \tag{5-2}
$$

通常的情况下，速度矢量都是与空间的某点相关的，而描述此点速度的大小取决于两个坐标系：
1. 进行微分运算的坐标系
2. 另一个是描述这个速度矢量的坐标系。

:::tip
当两个上标相同时，不需要给出外层上标，即可以写为

$$
B(^BV_Q) = B^Q V_Q \tag{5-3}
$$
:::

最后，由于进行参考坐标系变换的旋转矩阵已可清楚地表示这个关系，因此总是省略掉外部左上标，可以写为

$$
A^T (B V_Q) = A^T B R^T V_Q \tag{5-4}
$$

经常讨论的是一个坐标系原点相对于某个常见的世界参考坐标系的速度，而不考虑相对于任意坐标系中一般点的速度。对于这种特殊情况，定义一个缩写符号

$$
v_c = v_{CORG} \tag{5-5}
$$

式中的点为坐标系$\{C\}$的原点，参考坐标系为$\{U\}$。

:::warning

图5-1所示为固定的世界坐标系 $\{U\}$，坐标系 $\{T\}$ 固连在速度为100哩/小时的火车上，坐标系 $\{C\}$ 固连在速度为30哩/小时的汽车上。两车的前进方向为 $\{U\}$ 的 $\hat{X}$ 方向。旋转矩阵 $^U_R$ 和 $^U_C R$ 为已知且为常数。

![](https://github.com/user-attachments/assets/4441f666-9d93-4e0e-8aee-e1d220de1ebc)

求 $\frac{d}{dt} u_{P_{CORG}}$

$$
\frac{d}{dt} u_{P_{CORG}} = ^U V_{CORG} = v_C = 30 \hat{X}
$$

求 $^C (^U V_{TORG})$

$$
^C (^U V_{TORG}) = ^C v_T = ^C_U R v_T = ^C_U R (100 \hat{X}) = ^U_C R^{-1} 100 \hat{X}
$$

求 $^C (^T V_{CORG})$

$$
^C (^T V_{CORG}) = ^C_T R^T V_{CORG} = -^U_C R^{-1} {^U_T} R 70\hat{X}
$$

:::

### 角速度矢量

角速度矢量用符号Ω表示。线速度描述了点的一种属性，角速度描述了刚体的一种属性。

坐标系总是固连在被描述的刚体上，所以可以用角速度来描述坐标系的旋转运动。

<img width="321" height="336" alt="Image" src="https://github.com/user-attachments/assets/39035f4a-bee1-41be-9d52-0760ba636a82" />


在图5-2中，$^A\Omega_B$ 描述了坐标系$\{B\}$相对于坐标系$\{A\}$的旋转。实际上，$^A\Omega_B$ 的方向就是$\{B\}$相对于$\{A\}$的瞬时旋转轴，$^A\Omega_B$ 的大小表示旋转速度。像任意矢量一样，角速度矢量可以在任意坐标系中描述，所以需要附加另一个左上标，例如，$^C(^A\Omega_B)$ 就是坐标系$\{B\}$相对于坐标系$\{A\}$的角速度在坐标系$\{C\}$中的描述。




<img width="360" height="342" alt="Image" src="https://github.com/user-attachments/assets/0ab2af3e-58ac-47e6-bcb4-20ee9d3ffa17" />

## 5.2 刚体的线速度和角速度

### 线速度

![](https://github.com/user-attachments/assets/f40534a8-2654-4d49-928a-796f9305b620)

</WordCount>